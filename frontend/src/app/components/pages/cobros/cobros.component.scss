.card {
	border-radius: .5rem;
}

.table td, .table th {
	vertical-align: middle;
}

.details pre {
	max-height: 240px;
	overflow: auto;
}

.btn + .btn {
	margin-left: .5rem;
}

/* Cabecera de cobros (dos columnas y pequeños ajustes visuales) */
.cobros-cabecera {
	.form-label {
		font-weight: 500;
		margin-bottom: .25rem;
	}

	.input-group > .btn {
		padding-inline: .75rem;
	}

	/* Compacidad ligera entre campos apilados */
	.mb-2 { margin-bottom: .5rem !important; }
}
.kardex-card {
	margin-top: 1rem;
}


/* Detalle factura: estilos solo lectura (tabla bajo formArrayName="pagos") */
div[formArrayName="pagos"] > .table-responsive > table.table {
	/* Anchos visuales (sobrescriben el <colgroup>) */
	th:nth-child(1), td:nth-child(1) { width: 4% !important; }
	th:nth-child(2), td:nth-child(2) { width: 40% !important; }
	th:nth-child(3), td:nth-child(3) { width: 10% !important; }
	th:nth-child(4), td:nth-child(4) { width: 10% !important; }
	th:nth-child(5), td:nth-child(5) { width: 10% !important; }
	th:nth-child(6), td:nth-child(6) { width: 5% !important; }
	th:nth-child(7), td:nth-child(7) { width: 5% !important; }
	th:nth-child(8), td:nth-child(8) { width: 6% !important; text-align: center; }
	th:nth-child(9), td:nth-child(9) { width: 6% !important; }

	/* Asegurar spans de una línea por celda */ 
	span.d-block { display: block; }

	/* Detalle más aireado y multilínea */
	td:nth-child(2) {
		padding-top: .75rem;
		padding-bottom: .75rem;
	}
	td:nth-child(2) span.d-block {
		white-space: pre-line;
		word-break: break-word;
		line-height: 1.35;
	}
}

/* Permitir que el popover salga del contenedor scrollable */
div[formArrayName="pagos"] > .table-responsive {
	overflow: visible;
}

/* Popover de Observaciones en la celda */
div[formArrayName="pagos"] .obs-cell {
	position: relative;
	display: inline-block;
}
div[formArrayName="pagos"] .obs-icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 22px;
	height: 22px;
	border: 1px solid #0d6efd;
	border-radius: 50%;
	background: #eef5ff;
	color: #0d6efd; /* primary */
	cursor: pointer;
}
div[formArrayName="pagos"] .obs-popover {
	position: absolute;
	left: 0;
	bottom: 125%;
	min-width: 220px;
	max-width: 360px;
	background: #fff;
	border: 1px solid rgba(0,0,0,.125);
	border-radius: .375rem;
	box-shadow: 0 .5rem 1rem rgba(0,0,0,.15);
	padding: .5rem .75rem;
	opacity: 0;
	visibility: hidden;
	transform: translateY(4px);
	transition: all .15s ease-in-out;
	z-index: 2000; /* por encima de tabla y wrappers y modals */
	pointer-events: none; /* no capture hover */
}
div[formArrayName="pagos"] .obs-popover::after {
	content: '';
	position: absolute;
	left: .75rem;
	top: 100%;
	border-width: .4rem;
	border-style: solid;
	border-color: #fff transparent transparent transparent;
	filter: drop-shadow(0 -1px 0 rgba(0,0,0,.1));
}
div[formArrayName="pagos"] .obs-title {
	font-weight: 600;
	margin-bottom: .25rem;
}
div[formArrayName="pagos"] .obs-content {
	white-space: normal;
	word-break: break-word;
}
div[formArrayName="pagos"] .obs-cell:hover .obs-popover {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
}

/* Ocultar el guion en celdas de Observaciones cuando no hay texto */
div[formArrayName="pagos"] td:nth-child(8) .text-muted { display: none; }

/* Fallback de observaciones como texto envuelto (si se usa .obs-text en el template) */
.obs-text {
	white-space: pre-line;
	word-break: break-word;
	line-height: 1.3;
}

/* Estilos del modal de éxito */
.success-modal .panel-header {
	background: var(--bs-primary);
	color: #fff;
	padding: .5rem .75rem;
	font-weight: 600;
}
.success-modal .panel-body {
	padding: .75rem;
	background: rgba(25,135,84,.05);
	border-top: 1px solid rgba(0,0,0,.125);
}

