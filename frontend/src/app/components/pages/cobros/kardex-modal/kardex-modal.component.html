<div class="modal fade" id="kardexModal" tabindex="-1" aria-labelledby="kardexModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-xl modal-dialog-scrollable">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="kardexModalLabel">Kardex econ√≥mico</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body" *ngIf="resumen as r">
				<div class="row g-3 mb-3">
					<div class="col-md-6">
						<div class="small text-muted">{{ r?.estudiante?.cod_ceta }} - {{ r?.estudiante?.nombre_completo || r?.estudiante?.nombres }}</div>
						<div class="small">Pensum: {{ r?.inscripcion?.cod_pensum }} | Tipo: {{ r?.inscripcion?.tipo_inscripcion }}</div>
					</div>
					<div class="col-md-6">
						<ul class="list-unstyled mb-0">
							<li>Monto Semestral: <strong>{{ r?.totales?.monto_semestral | number:'1.2-2' }}</strong></li>
							<li>Total Pagado: <strong class="text-success">{{ r?.totales?.total_pagado | number:'1.2-2' }}</strong></li>
							<li>Saldo Mensualidad: <strong class="text-danger">{{ r?.totales?.saldo_mensualidad | number:'1.2-2' }}</strong></li>
						</ul>
					</div>
				</div>

				<h6 class="mb-2">Mensualidades</h6>
				<div class="table-responsive mb-4">
					<table class="table table-sm table-bordered align-middle">
						<thead class="table-light">
							<tr>
								<th>Fecha</th>
								<th>Nro Cobro</th>
								<th>Cuota</th>
								<th>Monto</th>
								<th>Forma</th>
								<th>Obs.</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let m of (r?.cobros?.mensualidad?.items || [])">
								<td>{{ m?.fecha_cobro | date:'yyyy-MM-dd' }}</td>
								<td>{{ m?.nro_cobro }}</td>
								<td>{{ m?.id_cuota ? ('Cuota ' + m?.id_cuota) : '-' }}</td>
								<td>{{ m?.monto | number:'1.2-2' }}</td>
								<td>{{ m?.id_forma_cobro }}</td>
								<td>{{ m?.observaciones }}</td>
							</tr>
						</tbody>
						<tfoot>
							<tr>
								<th colspan="3" class="text-end">Total</th>
								<th>{{ r?.cobros?.mensualidad?.total | number:'1.2-2' }}</th>
								<th colspan="2"></th>
							</tr>
						</tfoot>
					</table>
				</div>

				<h6 class="mb-2">Items</h6>
				<div class="table-responsive">
					<table class="table table-sm table-bordered align-middle">
						<thead class="table-light">
							<tr>
								<th>Fecha</th>
								<th>Nro Cobro</th>
								<th>Item</th>
								<th>Monto</th>
								<th>Forma</th>
								<th>Obs.</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let it of (r?.cobros?.items?.items || [])">
								<td>{{ it?.fecha_cobro | date:'yyyy-MM-dd' }}</td>
								<td>{{ it?.nro_cobro }}</td>
								<td>{{ it?.id_item || '-' }}</td>
								<td>{{ it?.monto | number:'1.2-2' }}</td>
								<td>{{ it?.id_forma_cobro }}</td>
								<td>{{ it?.observaciones }}</td>
							</tr>
						</tbody>
						<tfoot>
							<tr>
								<th colspan="3" class="text-end">Total</th>
								<th>{{ r?.cobros?.items?.total | number:'1.2-2' }}</th>
								<th colspan="2"></th>
							</tr>
						</tfoot>
					</table>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
			</div>
		</div>
	</div>
</div>
